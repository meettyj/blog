<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/10.0.14393 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="430"/>

<div><span><div style="-evernote-webclip:true"><br/><div style="font-size: 16px; display: inline-block;"><div style="overflow-x:hidden;background:rgb(249, 249, 249);"><div style="font-family:Verdana, Arial, 宋体;font-size:12px;text-align:center;background:url(&quot;/ui/holder.gif&quot;) 50% 0% repeat-y rgb(249, 249, 249);"><div style="text-align:left;background:url(&quot;/ui/wrapper.gif&quot;) 0% 0% repeat-y transparent;"><div style="background:transparent;">

<h1 style="padding:0px;border:0px;margin:15px 0px 0px 15px;font-family:微软雅黑;font-size:26px;font-weight:400;">jQuery ajax - post() 方法</h1>

<div style="border:0px;margin:0px 0px 0px 15px;padding:20px 0px;width:710px;border-width:1px 0px;border-top-style:solid;border-top-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-color:rgb(170, 170, 170);">
<p style="padding:0px;border:0px;line-height:150%;margin:0px;"><a href="http://www.w3school.com.cn/jquery/jquery_ref_ajax.asp" style="margin:0px;padding:0px;border:0px;text-decoration:underline;color:rgb(144, 11, 9);background:transparent;" title="jQuery 参考手册 - Ajax">jQuery Ajax 参考手册</a></p>
</div>


<div style="border:0px;margin:0px 0px 0px 15px;padding:20px 0px;width:710px;border-width:1px 0px;border-top-style:solid;border-top-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-color:rgb(170, 170, 170);">
<h2 style="margin:0px;padding:0px;border:0px;font-weight:bold;font-family:微软雅黑;font-size:14px;">实例</h2>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">请求 test.php 网页，忽略返回值：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;);</pre>


<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">TIY 实例</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">通过 AJAX POST 请求改变 div 元素的文本：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$(&quot;input&quot;).keyup(function(){
  txt=$(&quot;input&quot;).val();
  $.post(&quot;demo_ajax_gethint.asp&quot;,{suggest:txt},function(result){
    $(&quot;span&quot;).html(result);
  });
});
</pre>

<p style="overflow:hidden;margin:12px 0px 0px;line-height:150%;font-weight:normal;color:rgb(255, 255, 255);border:none;outline:0px;box-shadow:rgba(0, 0, 0, 0.117647) 0px 1px 3px, rgba(0, 0, 0, 0.239216) 0px 1px 2px;vertical-align:middle;padding:6px 16px;text-decoration:none;display:inline-block;text-align:center;transition:0.2s ease-out;cursor:pointer;white-space:nowrap;background-color:rgb(248, 142, 139);margin-bottom:0px;"><a href="http://www.w3school.com.cn/tiy/t.asp?f=jquery_ajax_post" style="margin:0px;padding:0px;border:0px;background:transparent;text-decoration:none;color:rgb(255, 255, 255);" target="_blank">亲自试一试</a></p>
</div>


<div style="border:0px;margin:0px 0px 0px 15px;padding:20px 0px;width:710px;border-width:1px 0px;border-top-style:solid;border-top-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-color:rgb(170, 170, 170);">
<h2 style="margin:0px;padding:0px;border:0px;font-weight:bold;font-family:微软雅黑;font-size:14px;">定义和用法</h2>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">post() 方法通过 HTTP POST 请求从服务器载入数据。</p>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">语法</h3>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">jQuery.post(<i style="margin:0px;padding:0px;border:0px;">url</i>,<i style="margin:0px;padding:0px;border:0px;">data</i>,<i style="margin:0px;padding:0px;border:0px;">success(data, textStatus, jqXHR)</i>,<i style="margin:0px;padding:0px;border:0px;">dataType</i>)</pre>

<table style="font-size:inherit;font-weight:inherit;font-style:inherit;font-variant:inherit;margin:0px;padding:0px;border:1px solid rgb(170, 170, 170);margin-top:10px;border-collapse:collapse;width:100%;">
<tbody style="margin:0px;padding:0px;border:0px;"><tr style="margin:0px;padding:0px;border:0px;">
<th style="margin:0px;padding:5px 15px 5px 6px;border:1px solid rgb(170, 170, 170);vertical-align:baseline;text-align:left;background-color:rgb(213, 213, 213);width:35%;">参数</th>
<th style="margin:0px;padding:5px 15px 5px 6px;border:1px solid rgb(170, 170, 170);vertical-align:baseline;text-align:left;background-color:rgb(213, 213, 213);">描述</th>
</tr>

<tr style="margin:0px;padding:0px;border:0px;">
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);"><i style="margin:0px;padding:0px;border:0px;">url</i></td>
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);">必需。规定把请求发送到哪个 URL。</td>
</tr>

<tr style="margin:0px;padding:0px;border:0px;">
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);"><i style="margin:0px;padding:0px;border:0px;">data</i></td>
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);">可选。映射或字符串值。规定连同请求发送到服务器的数据。</td>
</tr>

<tr style="margin:0px;padding:0px;border:0px;">
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);"><i style="margin:0px;padding:0px;border:0px;">success(data, textStatus, jqXHR)</i></td>
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);">可选。请求成功时执行的回调函数。</td>
</tr>

<tr style="margin:0px;padding:0px;border:0px;">
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);"><i style="margin:0px;padding:0px;border:0px;">dataType</i></td>
<td style="margin:0px;padding:6px 15px 6px 6px;border:1px solid rgb(170, 170, 170);vertical-align:text-top;background-color:rgb(239, 239, 239);">
<p style="padding:0px;border:0px;line-height:150%;margin:0px;">可选。规定预期的服务器响应的数据类型。</p>
<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">默认执行智能判断（xml、json、script 或 html）。</p>
</td>
</tr>
</tbody></table>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">详细说明</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">该函数是简写的 Ajax 函数，等价于：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.ajax({
  type: 'POST',
  url: <i style="margin:0px;padding:0px;border:0px;">url</i>,
  data: <i style="margin:0px;padding:0px;border:0px;">data</i>,
  success: <i style="margin:0px;padding:0px;border:0px;">success</i>,
  dataType: <i style="margin:0px;padding:0px;border:0px;">dataType</i>
});</pre>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">根据响应的不同的 MIME 类型，传递给 success 回调函数的返回数据也有所不同，这些数据可以是 XML 根元素、文本字符串、JavaScript 文件或者 JSON 对象。也可向 success 回调函数传递响应的文本状态。</p>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">对于 jQuery 1.5，也可以向 success 回调函数传递 <a href="http://www.w3school.com.cn/jquery/ajax_post.asp#jqxhr_object" style="margin:0px;padding:0px;border:0px;text-decoration:underline;color:rgb(144, 11, 9);background:transparent;">jqXHR 对象</a>（jQuery 1.4 中传递的是 XMLHttpRequest 对象）。</p>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">大部分实现会规定一个 success 函数：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;ajax/test.html&quot;, function(data) {
  $(&quot;.result&quot;).html(data);
});
</pre>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">本例读取被请求的 HTML 片段，并插入页面中。</p>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">通过 POST 读取的页面不被缓存，因此 <a href="http://www.w3school.com.cn/jquery/ajax_ajaxsetup.asp" style="margin:0px;padding:0px;border:0px;text-decoration:underline;color:rgb(144, 11, 9);background:transparent;" title="jQuery ajax - ajaxSetup() 方法">jQuery.ajaxSetup()</a> 中的 cache 和 ifModified 选项不会影响这些请求。</p>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;"><span style="margin:0px;padding:0px;border:0px;font-weight:bold;">注释：</span>由于浏览器安全方面的限制，大多数 &quot;Ajax&quot; 请求遵守同源策略；请求无法从不同的域、子域或协议成功地取回数据。</p>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;"><span style="margin:0px;padding:0px;border:0px;font-weight:bold;">注释：</span>如果由 jQuery.post() 发起的请求返回错误代码，那么不会有任何提示，除非脚本已调用了全局的 <a href="http://www.w3school.com.cn/jquery/ajax_ajaxerror.asp" style="margin:0px;padding:0px;border:0px;text-decoration:underline;color:rgb(144, 11, 9);background:transparent;" title="jQuery ajax - ajaxError() 方法">.ajaxError() 方法</a>。或者对于 jQuery 1.5，jQuery.post() 返回的 jqXHR 对象的 .error() 方法也可以用于错误处理。</p>
</div>


<div style="border:0px;margin:0px 0px 0px 15px;padding:20px 0px;width:710px;border-width:1px 0px;border-top-style:solid;border-top-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-color:rgb(170, 170, 170);">
<h2 style="margin:0px;padding:0px;border:0px;font-weight:bold;font-family:微软雅黑;font-size:14px;">jqXHR 对象</h2>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">对于 jQuery 1.5，所有 jQuery 的 AJAX 方法返回的是 XMLHTTPRequest 对象的超集。由 $.post() 返回的 jQuery XHR 对象或 &quot;jqXHR,&quot;实现了约定的接口，赋予其所有的属性、方法，以及约定的行为。出于对由 <a href="http://www.w3school.com.cn/jquery/ajax_ajax.asp" style="margin:0px;padding:0px;border:0px;text-decoration:underline;color:rgb(144, 11, 9);background:transparent;" title="jQuery ajax - ajax() 方法">$.ajax()</a> 使用的回调函数名称便利性和一致性的考虑，它提供了 .error(), .success() 以及 .complete() 方法。这些方法使用请求终止时调用的函数参数，该函数接受与对应命名的 $.ajax() 回调函数相同的参数。</p>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">jQuery 1.5 中的约定接口同样允许 jQuery 的 Ajax 方法，包括 $.post()，来链接同一请求的多个 .success()、.complete() 以及 .error() 回调函数，甚至会在请求也许已经完成后分配这些回调函数。</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);"><span style="margin:0px;padding:0px;border:0px;color:rgb(153, 153, 153);">// 请求生成后立即分配处理程序，请记住该请求针对 jqxhr 对象</span>
    var jqxhr = $.post(&quot;example.php&quot;, function() {
      alert(&quot;success&quot;);
    })
    .success(function() { alert(&quot;second success&quot;); })
    .error(function() { alert(&quot;error&quot;); })
    .complete(function() { alert(&quot;complete&quot;); });

    <span style="margin:0px;padding:0px;border:0px;color:rgb(153, 153, 153);">// 在这里执行其他任务</span>
	
    <span style="margin:0px;padding:0px;border:0px;color:rgb(153, 153, 153);">// 为上面的请求设置另一个完成函数</span>
    jqxhr.complete(function(){ alert(&quot;second complete&quot;); });
</pre>
</div>


<div style="border:0px;margin:0px 0px 0px 15px;padding:20px 0px;width:710px;border-width:1px 0px;border-top-style:solid;border-top-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-color:rgb(170, 170, 170);">
<h2 style="margin:0px;padding:0px;border:0px;font-weight:bold;font-family:微软雅黑;font-size:14px;">更多实例</h2>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">例子 1</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">请求 test.php 页面，并一起发送一些额外的数据（同时仍然忽略返回值）：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;, { name: &quot;John&quot;, time: &quot;2pm&quot; } );</pre>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">例子 2</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">向服务器传递数据数组（同时仍然忽略返回值）：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;, { 'choices[]': [&quot;Jon&quot;, &quot;Susan&quot;] });</pre>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">例子 3</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">使用 ajax 请求发送表单数据：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;, $(&quot;#testform&quot;).serialize());</pre>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">例子 4</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">输出来自请求页面 test.php 的结果（HTML 或 XML，取决于所返回的内容）：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;, function(data){
   alert(&quot;Data Loaded: &quot; + data);
 });
</pre>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">例子 5</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">向页面 test.php 发送数据，并输出结果（HTML 或 XML，取决于所返回的内容）：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;, { name: &quot;John&quot;, time: &quot;2pm&quot; },
   function(data){
     alert(&quot;Data Loaded: &quot; + data);
   });
</pre>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">例子 6</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">获得 test.php 页面的内容，并存储为 XMLHttpResponse 对象，并通过 process() 这个 JavaScript 函数进行处理：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;, { name: &quot;John&quot;, time: &quot;2pm&quot; },
   function(data){
     process(data);
   }, &quot;xml&quot;);
</pre>

<h3 style="padding:0px;border:0px;font-weight:bold;margin:20px 0px 0px;font-size:12px;">例子 7</h3>

<p style="padding:0px;border:0px;margin:12px 0px 0px;line-height:150%;">获得 test.php 页面返回的 json 格式的内容：</p>

<pre style="margin:10px 0px 0px;padding:10px;border:1px dotted rgb(119, 136, 85);font-family:Consolas, 'Courier New', Courier, monospace;width:685px;background:rgb(245, 245, 245);">$.post(&quot;test.php&quot;, { &quot;func&quot;: &quot;getNameAndTime&quot; },
   function(data){
     alert(data.name); // John
     console.log(data.time); //  2pm
   }, &quot;json&quot;);
</pre>
</div>


<div style="border:0px;margin:0px 0px 0px 15px;padding:20px 0px;width:710px;border-width:1px 0px;border-top-style:solid;border-top-color:rgb(170, 170, 170);border-bottom-style:solid;border-bottom-color:rgb(170, 170, 170);">
<p style="padding:0px;border:0px;line-height:150%;margin:0px;"><a href="http://www.w3school.com.cn/jquery/jquery_ref_ajax.asp" style="margin:0px;padding:0px;border:0px;text-decoration:underline;color:rgb(144, 11, 9);background:transparent;" title="jQuery 参考手册 - Ajax">jQuery Ajax 参考手册</a></p>
</div>

</div></div></div></div></div><br/></div></span>
</div></body></html> 